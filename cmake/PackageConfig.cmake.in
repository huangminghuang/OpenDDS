
foreach(_package @PREREQUISITE_PACKAGES@)
  if (_package AND (NOT TARGET ${_package}))
    find_package(${_package} REQUIRED CONFIG)
  endif()
endforeach()

@EXTRA_CONFIG_OPTIONS@

# Compute paths
get_filename_component(@package_name@_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)
include("${@package_name@_CMAKE_DIR}/@package_name@Targets.cmake" )

foreach(_cmake_file @EXTRA_CMAKE_FILES@)
  include("${@package_name@_CMAKE_DIR}/${_cmake_file}")
endforeach()

foreach(_comp ${@package_name@_FIND_COMPONENTS})
  if (TARGET @package_name@_${_comp})
    set(@package_name@_${_comp}_FOUND 1)
  elseif(@package_name@_FIND_REQUIRED_${_comp})
    set(@package_name@_FOUND 0)
    set(@package_name@_NOTFOUND_MESSAGE "Unsupported component: ${_comp}")
  endif()
endforeach()
